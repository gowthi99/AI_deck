<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromptMagic - Unlock Hidden Potential</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Razorpay Checkout Script -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <!-- jsPDF for robust text-only PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        /* Custom Animations & Scrollbar */
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
            animation: fade-in-up 0.8s ease-out forwards;
            opacity: 0;
        }
        .animate-gradient-x {
            background-size: 200% 200%;
            animation: gradient-x 15s ease infinite;
        }
        @keyframes gradient-x {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }

        .transition-max-height {
            transition: max-height 0.5s ease-in-out;
        }

        .prompt-content {
            white-space: pre-wrap;
        }
        
        /* Utility class to hide elements */
        .hidden {
            display: none !important;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
</head>
<body class="bg-slate-950 text-slate-100 font-sans selection:bg-purple-500 selection:text-white overflow-x-hidden">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-slate-950/80 backdrop-blur-md border-b border-slate-800 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-2 group cursor-pointer" onclick="location.reload()">
                    <i data-lucide="sparkles" class="h-6 w-6 text-purple-400 group-hover:rotate-12 transition-transform duration-300"></i>
                    <span class="font-bold text-xl tracking-tight bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                        PromptMagic
                    </span>
                </div>
                
                <!-- Landing Actions (Visible initially) -->
                <div id="nav-actions">
                    <button onclick="scrollToSubscribe()" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full text-sm font-medium transition-all shadow-[0_0_15px_rgba(147,51,234,0.3)] hover:shadow-[0_0_25px_rgba(147,51,234,0.5)] hover:scale-105 active:scale-95">
                        Get Access
                    </button>
                </div>

                <!-- Library Actions (Hidden initially) -->
                <div id="library-actions" class="hidden flex items-center gap-2">
                    <button onclick="downloadAsMarkdown()" class="hidden md:flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all border border-slate-700">
                        <i data-lucide="file-text" class="w-4 h-4"></i> Download .MD
                    </button>
                    <button onclick="downloadAsPDF()" class="flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all shadow-[0_0_15px_rgba(147,51,234,0.3)] hover:shadow-[0_0_25px_rgba(147,51,234,0.5)]">
                        <i data-lucide="file-down" class="w-4 h-4"></i> Download PDF
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- LANDING VIEW (Default View) -->
    <div id="landing-view">
        <!-- Hero Section -->
        <header class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden">
            <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full max-w-7xl pointer-events-none">
                <div class="absolute top-20 left-10 w-72 h-72 bg-purple-500/20 rounded-full blur-[100px] animate-pulse"></div>
                <div class="absolute bottom-20 right-10 w-96 h-96 bg-blue-500/10 rounded-full blur-[100px] animate-pulse" style="animation-delay: 1s;"></div>
                <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-pink-500/5 rounded-full blur-[120px] animate-pulse" style="animation-delay: 2s;"></div>
            </div>
            
            <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-900 border border-slate-700 text-purple-300 text-xs font-semibold mb-6 uppercase tracking-wider hover:border-purple-500/50 transition-colors cursor-default animate-fade-in-up">
                    <span class="relative flex h-2 w-2">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-purple-400 opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-purple-500"></span>
                    </span>
                    Updated Weekly
                </div>
                <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight mb-8 animate-fade-in-up" style="animation-delay: 0.1s;">
                    Unlock the <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 animate-gradient-x">Hidden Potential</span> of GPT
                </h1>
                <p class="max-w-2xl mx-auto text-xl text-slate-400 mb-10 leading-relaxed animate-fade-in-up" style="animation-delay: 0.2s;">
                    Stop using average prompts. Access our curated library of "Out of the Box" magical prompts designed to supercharge your workflow.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center animate-fade-in-up" style="animation-delay: 0.3s;">
                    <button onclick="scrollToSubscribe()" class="w-full sm:w-auto px-8 py-4 bg-white text-slate-900 rounded-xl font-bold text-lg hover:bg-slate-100 transition-all hover:scale-105 active:scale-95 shadow-lg shadow-white/10">
                        @Just ₹39/-
                    </button>
                    <button onclick="document.getElementById('demo-section').scrollIntoView({behavior: 'smooth'})" class="w-full sm:w-auto px-8 py-4 bg-slate-800 text-white rounded-xl font-bold text-lg hover:bg-slate-700 transition-all hover:scale-105 active:scale-95 border border-slate-700 hover:border-slate-500">
                        View Demo Prompts
                    </button>
                </div>
            </div>
        </header>

        <!-- Demo Section -->
        <section id="demo-section" class="py-20 bg-slate-900/50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center gap-2 mb-10">
                    <i data-lucide="unlock" class="text-green-400 h-6 w-6 animate-bounce"></i>
                    <h2 class="text-3xl font-bold">Free Demo Prompts</h2>
                </div>
                
                <div id="demo-container" class="grid md:grid-cols-2 gap-6">
                    <!-- JS will render cards here -->
                </div>
            </div>
        </section>

        <!-- Locked Section -->
        <section class="py-20 relative">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between mb-10">
                    <div class="flex items-center gap-2">
                        <i data-lucide="lock" class="text-purple-400 h-6 w-6"></i>
                        <h2 class="text-3xl font-bold">Premium Magical Prompts</h2>
                    </div>
                    <span class="text-sm text-slate-400 bg-slate-900 px-3 py-1 rounded-full border border-slate-800">100+ Prompts Locked</span>
                </div>

                <div id="locked-preview-container" class="grid md:grid-cols-3 gap-6">
                    <!-- JS will render locked cards here -->
                </div>
                
                <div class="mt-12 text-center">
                    <p class="text-slate-400 mb-4 animate-pulse">...and hundreds more added weekly.</p>
                    <button onclick="scrollToSubscribe()" class="text-purple-400 hover:text-purple-300 font-medium flex items-center justify-center gap-2 mx-auto hover:underline decoration-2 underline-offset-4 transition-all">
                        Unlock Library for ₹39 <i data-lucide="zap" class="w-4 h-4 fill-purple-400"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="py-24 bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold mb-4">One Tiny Payment. Forever.</h2>
                    <p class="text-slate-400 max-w-xl mx-auto">
                        No subscriptions. No hidden fees. Pay once and own the entire library of 100+ magical prompts forever.
                    </p>
                </div>

                <div class="max-w-md mx-auto">
                    <!-- Lifetime Deal Card -->
                    <div class="bg-slate-900 border-2 border-purple-500 rounded-2xl p-8 flex flex-col relative transform hover:-translate-y-2 transition-all duration-300 shadow-[0_0_40px_rgba(147,51,234,0.15)]">
                        <div class="absolute top-0 right-0 left-0 bg-gradient-to-r from-purple-600 to-pink-600 text-center text-xs py-1.5 font-bold uppercase tracking-wider text-white rounded-t-xl">
                            Launch Offer • Limited Time
                        </div>
                        
                        <div class="mt-6 text-center">
                            <h3 class="text-2xl font-bold text-white mb-2">Lifetime Access</h3>
                            <div class="flex items-center justify-center gap-2 mb-2">
                                <span class="text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400">₹39</span>
                                <span class="text-slate-500 line-through text-xl">₹999</span>
                            </div>
                            <p class="text-green-400 text-sm font-bold bg-green-400/10 inline-block px-3 py-1 rounded-full mb-6">96% OFF Today</p>
                        </div>

                        <ul class="space-y-4 mb-8 flex-1 border-t border-slate-800 pt-6">
                            <li class="flex items-start gap-3 text-slate-300">
                                <div class="bg-purple-500/20 p-1 rounded-full"><i data-lucide="check" class="w-4 h-4 text-purple-400"></i></div>
                                <span><strong>Instant Access</strong> to 100+ Mega Prompts</span>
                            </li>
                            <li class="flex items-start gap-3 text-slate-300">
                                <div class="bg-purple-500/20 p-1 rounded-full"><i data-lucide="check" class="w-4 h-4 text-purple-400"></i></div>
                                <span><strong>PDF & Markdown</strong> Downloads Included</span>
                            </li>
                            <li class="flex items-start gap-3 text-slate-300">
                                <div class="bg-purple-500/20 p-1 rounded-full"><i data-lucide="check" class="w-4 h-4 text-purple-400"></i></div>
                                <span><strong>10 Categories:</strong> Coding, Marketing, Biz...</span>
                            </li>
                            <li class="flex items-start gap-3 text-slate-300">
                                <div class="bg-purple-500/20 p-1 rounded-full"><i data-lucide="check" class="w-4 h-4 text-purple-400"></i></div>
                                <span><strong>Lifetime Updates</strong> - Pay once, use forever</span>
                            </li>
                        </ul>

                        <button onclick="handleSubscribe()" class="w-full py-4 rounded-xl bg-white text-slate-900 font-bold text-lg hover:bg-slate-100 transition-all shadow-lg hover:shadow-xl active:scale-95 flex items-center justify-center gap-2">
                            Unlock Everything Now <i data-lucide="arrow-right" class="w-5 h-5"></i>
                        </button>
                        
                        <p class="text-center text-xs text-slate-500 mt-4 flex items-center justify-center gap-1">
                            <i data-lucide="shield-check" class="w-3 h-3"></i> 100% Secure Payment via Razorpay
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="py-24 bg-slate-950 relative overflow-hidden">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold mb-4">Frequently Asked Questions</h2>
                    <p class="text-slate-400">Everything you need to know about the service.</p>
                </div>
                
                <div id="faq-container" class="bg-slate-900/50 border border-slate-800 rounded-3xl p-8 backdrop-blur-sm">
                    <!-- JS will render FAQs here -->
                </div>
            </div>
            <div class="absolute top-1/2 left-0 -translate-y-1/2 w-96 h-96 bg-purple-500/5 rounded-full blur-[100px] pointer-events-none"></div>
        </section>
    </div>

    <!-- LIBRARY VIEW (Hidden by default, shown after payment) -->
    <div id="library-view" class="hidden min-h-screen pt-24 pb-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row gap-8">
                
                <!-- Sticky Sidebar (Categories) -->
                <aside class="lg:w-1/4">
                    <div class="sticky top-24 bg-slate-900/50 border border-slate-800 rounded-2xl p-6 backdrop-blur-sm">
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="layers" class="w-5 h-5 text-purple-400"></i> Categories
                        </h3>
                        <nav class="space-y-2" id="category-nav">
                            <!-- Categories injected via JS -->
                        </nav>
                        <div class="mt-8 pt-6 border-t border-slate-800">
                            <div class="text-xs text-slate-500 uppercase font-bold tracking-wider mb-2">Stats</div>
                            <div class="flex justify-between text-sm text-slate-400 mb-1">
                                <span>Total Prompts:</span>
                                <span class="text-white font-mono">100</span>
                            </div>
                            <div class="flex justify-between text-sm text-slate-400">
                                <span>Avg Length:</span>
                                <span class="text-white font-mono">100+ Lines</span>
                            </div>
                            <!-- Mobile Buttons -->
                            <div class="grid grid-cols-2 gap-2 mt-6 md:hidden">
                                <button onclick="downloadAsMarkdown()" class="flex items-center justify-center gap-2 bg-slate-800 hover:bg-slate-700 text-white px-3 py-2 rounded-lg text-xs font-medium border border-slate-700">
                                    <i data-lucide="file-text" class="w-3 h-3"></i> .MD
                                </button>
                                <button onclick="downloadAsPDF()" class="flex items-center justify-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-3 py-2 rounded-lg text-xs font-medium">
                                    <i data-lucide="file-down" class="w-3 h-3"></i> PDF
                                </button>
                            </div>
                        </div>
                    </div>
                </aside>

                <!-- Main Feed -->
                <main class="lg:w-3/4 space-y-12" id="prompts-feed">
                    <div class="text-center py-20">
                        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"></div>
                        <p class="text-slate-400">Loading Library...</p>
                    </div>
                </main>

            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-slate-950 border-t border-slate-900 pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-3 gap-8 mb-12">
                <div>
                    <div class="flex items-center gap-2 mb-4 group cursor-pointer">
                        <i data-lucide="sparkles" class="h-5 w-5 text-purple-400 group-hover:rotate-12 transition-transform"></i>
                        <span class="font-bold text-lg text-white">PromptMagic</span>
                    </div>
                    <p class="text-slate-500 text-sm">
                        Unlocking the true potential of AI, one prompt at a time.
                    </p>
                </div>
                <div>
                    <h4 class="font-bold text-white mb-4">Features</h4>
                    <ul class="space-y-2 text-sm text-slate-500">
                        <li class="flex items-center gap-2 hover:text-purple-400 transition-colors cursor-default"><i data-lucide="mail" class="w-3.5 h-3.5"></i> Weekly Inbox Delivery</li>
                        <li class="flex items-center gap-2 hover:text-purple-400 transition-colors cursor-default"><i data-lucide="shield" class="w-3.5 h-3.5"></i> Cancel Anytime</li>
                        <li class="flex items-center gap-2 hover:text-purple-400 transition-colors cursor-default"><i data-lucide="zap" class="w-3.5 h-3.5"></i> Instant Access</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-white mb-4">Newsletter</h4>
                    <p class="text-slate-500 text-sm mb-4">Get a free prompt every month.</p>
                    <div class="flex gap-2">
                        <input type="email" placeholder="Enter email" class="bg-slate-900 border border-slate-800 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:border-purple-500 w-full transition-colors" />
                        <button class="bg-purple-600 px-4 py-2 rounded-lg text-white text-sm font-bold hover:bg-purple-500 hover:scale-105 active:scale-95 transition-all">Join</button>
                    </div>
                </div>
            </div>
            <div class="border-t border-slate-900 pt-8 text-center text-xs text-slate-600">
                <p>&copy; 2024 PromptMagic. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // --- CONFIG & DATA ---
        const RAZORPAY_KEY_ID = "rzp_live_RxurtAbdBgdQwN"; 

        // --- LANDING PAGE CONTENT ---
        const demoPrompts = [
            {
                title: "The Socratic Tutor",
                category: "Education",
                content: `Act as a Socratic Tutor. You must never provide the answer immediately. Instead, your goal is to guide me to the answer by asking probing, thought-provoking questions.
Start by asking: "What would you like to learn today?"`
            },
            {
                title: "The ELI5 Expert",
                category: "Explanation",
                content: `You are the Universal Simplifier. Your task is to explain complex topics to me as if I am a 5-year-old (ELI5). Use analogies involving everyday objects or animals.`
            },
            {
                title: "The Devil's Advocate",
                category: "Critical Thinking",
                content: `Act as a skilled Debater. I will present an opinion. Your task is to rigorously critique it to help me strengthen my views.`
            },
            {
                title: "The Python Bug Hunter",
                category: "Coding",
                content: `Act as a Senior Python Backend Engineer. Analyze my code snippet for bugs, performance issues, and security risks.`
            }
        ];

        const lockedTitles = [
            { title: "The Ultimate Copywriting Framework", category: "Marketing" },
            { title: "Full-Stack Code Refactor Wizard", category: "Coding" },
            { title: "Viral Thread Generator", category: "Social Media" },
            { title: "Salary Negotiation Script", category: "Career" },
            { title: "The 'Midjourney' Prompt Engineer", category: "AI Art" },
            { title: "Complex Legal Document Simplifier", category: "Legal" },
            { title: "The 'First Principles' Thinker", category: "Strategy" },
            { title: "SEO Keyword Dominator", category: "Marketing" },
            { title: "Recipe Reverse Engineer", category: "Lifestyle" }
        ];

        const faqs = [
            { question: "Is this a monthly subscription?", answer: "No! This is a one-time payment of ₹39. You pay once and get lifetime access to all 100+ prompts." },
            { question: "How do I receive the prompts?", answer: "Immediately after payment, the library unlocks right here on this page. You can also download them as PDF or Markdown." },
            { question: "Do these work with ChatGPT Free?", answer: "Yes! All prompts are optimized for GPT-3.5 (Free) and GPT-4o." },
            { question: "Can I get a refund?", answer: "Due to the digital nature of the product (instant access to all files), all sales are final." },
            { question: "Are future updates included?", answer: "Yes, you will have access to any new prompts we add to this library in the future." }
        ];

        // --- LIBRARY GENERATION LOGIC ---
        const libraryCategories = [
            { id: "marketing", name: "Marketing & Copywriting", icon: "megaphone" },
            { id: "coding", name: "Coding & Engineering", icon: "code" },
            { id: "creative", name: "Creative Writing", icon: "pen-tool" },
            { id: "business", name: "Business Strategy", icon: "briefcase" },
            { id: "productivity", name: "Productivity & Learning", icon: "cpu" },
            { id: "health", name: "Health & Wellness", icon: "heart" },
            { id: "data", name: "Data Science & Analytics", icon: "database" },
            { id: "language", name: "Language Learning", icon: "languages" },
            { id: "finance", name: "Finance & Investing", icon: "landmark" },
            { id: "education", name: "Education & Teaching", icon: "graduation-cap" }
        ];

        function generateMassivePromptContent(category, title, index) {
            let content = `// --- MAGICAL PROMPT: ${title.toUpperCase()} ---\n\n`;
            content += `/** ROLE DEFINITION */\nAct as a World-Class Expert in ${category}. Tone: Authoritative, precise.\n\n`;
            content += `/** CONTEXT */\nI am facing a complex challenge regarding [INSERT PROBLEM]. Provide a comprehensive solution.\n\n`;
            content += `/** INSTRUCTIONS */\nPlease execute the following ${index + 10}-step process:\n\n`;
            for(let i=1; i<=15; i++) {
                content += `STEP ${i}: Deep Dive Analysis of Component ${String.fromCharCode(64+i)}\n   - Analyze inputs. Apply mental models. Critique output.\n`;
            }
            content += `\n/** FORMATTING */\n- Use Markdown headers.\n- Use Tables for data.\n- Use Code Blocks.\n\n`;
            content += `(End of System Instructions. Awaiting User Input...)\n`;
            for(let k=0; k<5; k++) content += `\n[System Note: Internal chain-of-thought buffer line ${k+1}...]`;
            return content;
        }

        const libraryPrompts = [];
        libraryCategories.forEach(cat => {
            for(let i=1; i<=10; i++) {
                libraryPrompts.push({
                    id: `${cat.id}-${i}`,
                    categoryId: cat.id,
                    title: `The ${cat.name} Master Prompt #${i}`,
                    description: `Heavily engineered prompt for ${cat.name.toLowerCase()}.`,
                    content: generateMassivePromptContent(cat.name, `${cat.name} Master Prompt #${i}`, i)
                });
            }
        });

        // --- CORE FUNCTIONS ---

        function scrollToSubscribe() {
            document.getElementById('pricing').scrollIntoView({ behavior: 'smooth' });
        }

        function handleSubscribe() {
            const options = {
                "key": RAZORPAY_KEY_ID, 
                "amount": 3900, // 3900 paise = ₹39
                "currency": "INR",
                "name": "PromptMagic",
                "description": "Lifetime Access to 100+ Mega Prompts",
                "image": "https://cdn-icons-png.flaticon.com/512/6134/6134346.png",
                "handler": function (response){
                    // SUCCESS: Switch to Library View
                    unlockLibrary(); 
                },
                "theme": { "color": "#9333ea" }
            };
            
            const rzp = new Razorpay(options);
            rzp.on('payment.failed', function (response){
                alert("Payment Failed: " + response.error.description);
            });
            rzp.open();
        }

        function unlockLibrary() {
            // Hide Landing Elements
            document.getElementById('landing-view').classList.add('hidden');
            document.getElementById('nav-actions').classList.add('hidden'); // Hide "Get Access" button
            
            // Show Library Elements
            document.getElementById('library-view').classList.remove('hidden');
            document.getElementById('library-actions').classList.remove('hidden'); // Show Download buttons
            document.getElementById('library-actions').classList.add('flex');

            // Render Library Content
            renderLibraryCategories();
            renderLibraryPrompts();
            lucide.createIcons();

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // --- RENDERERS ---

        function renderDemoPrompts() {
            const container = document.getElementById('demo-container');
            let html = '';
            demoPrompts.forEach((prompt, index) => {
                const safeContent = prompt.content.replace(/`/g, "\\`").replace(/'/g, "\\'");
                html += `
                <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6 hover:border-purple-500/50 hover:shadow-[0_0_30px_rgba(168,85,247,0.15)] hover:-translate-y-1 transition-all duration-300 group relative flex flex-col h-full">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="text-xl font-bold text-white group-hover:text-purple-300 transition-colors">${prompt.title}</h3>
                        <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-400 border border-slate-700 whitespace-nowrap ml-2">${prompt.category}</span>
                    </div>
                    <div id="prompt-content-${index}" class="relative bg-slate-950 p-4 rounded-xl border border-slate-800 font-mono text-sm text-slate-300 leading-relaxed mb-4 overflow-hidden transition-all duration-500 ease-in-out max-h-[140px]">
                        <p class="whitespace-pre-line">${prompt.content}</p>
                        <div id="prompt-fade-${index}" class="absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-slate-950 via-slate-950/90 to-transparent pointer-events-none"></div>
                    </div>
                    <div class="mt-auto flex items-center justify-between pt-2">
                        <button onclick="togglePrompt(${index})" class="text-purple-400 text-sm font-medium hover:text-purple-300 transition-colors flex items-center gap-1 focus:outline-none">
                            <span id="prompt-btn-text-${index}">Expand Prompt</span> <i data-lucide="chevron-down" class="w-4 h-4"></i>
                        </button>
                        <button id="copy-btn-${index}" onclick="copyToClipboard(\`${safeContent}\`, 'copy-btn-${index}')" class="flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 border bg-slate-800 border-slate-700 text-slate-400 hover:bg-purple-600 hover:text-white hover:border-purple-500">
                            <i data-lucide="copy" class="w-3.5 h-3.5"></i> Copy
                        </button>
                    </div>
                </div>`;
            });
            container.innerHTML = html;
        }

        function renderLockedPreview() {
            const container = document.getElementById('locked-preview-container');
            let html = '';
            lockedTitles.forEach((prompt) => {
                html += `
                <div class="relative group overflow-hidden rounded-2xl">
                    <div class="absolute inset-0 bg-slate-950/60 backdrop-blur-[6px] z-10 flex flex-col items-center justify-center p-6 text-center transition-all duration-300 group-hover:bg-slate-950/75 group-hover:backdrop-blur-[8px]">
                        <div class="bg-purple-500/10 p-3 rounded-full mb-3 group-hover:scale-110 transition-transform duration-300"><i data-lucide="lock" class="h-6 w-6 text-purple-400"></i></div>
                        <p class="text-white font-semibold mb-2 translate-y-2 group-hover:translate-y-0 transition-transform duration-300">Subscriber Only</p>
                        <button onclick="scrollToSubscribe()" class="text-xs bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg transition-all opacity-0 group-hover:opacity-100 translate-y-4 group-hover:translate-y-0 duration-300 shadow-lg shadow-purple-500/20">Unlock for ₹39</button>
                    </div>
                    <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6 h-full flex flex-col opacity-40 group-hover:opacity-30 transition-opacity">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold text-white">${prompt.title}</h3>
                            <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-400 border border-slate-700">${prompt.category}</span>
                        </div>
                        <div class="flex-grow space-y-2"><div class="h-4 bg-slate-800 rounded w-3/4"></div><div class="h-4 bg-slate-800 rounded w-full"></div><div class="h-4 bg-slate-800 rounded w-5/6"></div><div class="h-4 bg-slate-800 rounded w-4/5"></div></div>
                    </div>
                </div>`;
            });
            container.innerHTML = html;
        }

        function renderFAQs() {
            const container = document.getElementById('faq-container');
            let html = '';
            faqs.forEach((faq, index) => {
                html += `
                <div class="border-b border-slate-800 last:border-none">
                    <button onclick="toggleFAQ(${index})" class="w-full py-6 flex items-center justify-between text-left focus:outline-none group">
                        <span id="faq-question-${index}" class="text-lg font-medium transition-colors text-slate-200 group-hover:text-purple-300">${faq.question}</span>
                        <span id="faq-icon-wrapper-${index}" class="ml-6 flex-shrink-0 transition-transform duration-300"><i data-lucide="plus" class="w-5 h-5 text-slate-400 group-hover:text-purple-400"></i></span>
                    </button>
                    <div id="faq-content-${index}" class="overflow-hidden transition-all duration-300 ease-in-out max-h-0 opacity-0"><p class="text-slate-400 leading-relaxed pr-8">${faq.answer}</p></div>
                </div>`;
            });
            container.innerHTML = html;
        }

        function renderLibraryCategories() {
            const nav = document.getElementById('category-nav');
            let html = '';
            libraryCategories.forEach(cat => {
                html += `<a href="#cat-${cat.id}" class="block px-4 py-3 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-purple-400 transition-all flex items-center gap-3 group"><i data-lucide="${cat.icon}" class="w-4 h-4 group-hover:scale-110 transition-transform"></i> ${cat.name}</a>`;
            });
            nav.innerHTML = html;
        }

        function renderLibraryPrompts() {
            const feed = document.getElementById('prompts-feed');
            let html = '';
            libraryCategories.forEach(cat => {
                const catPrompts = libraryPrompts.filter(p => p.categoryId === cat.id);
                html += `<section id="cat-${cat.id}" class="scroll-mt-32"><div class="flex items-center gap-3 mb-6 border-b border-slate-800 pb-4"><div class="p-2 bg-purple-500/10 rounded-lg"><i data-lucide="${cat.icon}" class="w-6 h-6 text-purple-400"></i></div><h2 class="text-3xl font-bold text-white">${cat.name}</h2><span class="ml-auto bg-slate-800 text-xs px-2 py-1 rounded text-slate-400">${catPrompts.length} Prompts</span></div><div class="grid gap-8">`;
                catPrompts.forEach((prompt) => {
                    const safeContent = prompt.content.replace(/`/g, "\\`").replace(/'/g, "\\'");
                    html += `
                    <div class="bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden hover:border-purple-500/30 transition-all duration-300 shadow-lg">
                        <div class="p-6 border-b border-slate-800 bg-slate-900 relative">
                            <div class="absolute top-0 right-0 p-4 opacity-10"><i data-lucide="sparkles" class="w-24 h-24"></i></div>
                            <h3 class="text-xl font-bold text-white mb-2 relative z-10">${prompt.title}</h3>
                            <p class="text-slate-400 text-sm relative z-10">${prompt.description}</p>
                        </div>
                        <div class="bg-slate-950 p-6"><div class="relative"><div class="h-64 overflow-y-auto custom-scrollbar prompt-content text-xs font-mono text-slate-300 leading-relaxed p-4 bg-black/20 rounded-xl border border-slate-800/50">${prompt.content}</div><div class="absolute bottom-4 right-6 pointer-events-none"><span class="bg-slate-800/90 backdrop-blur text-xs text-slate-400 px-2 py-1 rounded border border-slate-700">${prompt.content.split('\n').length} Lines</span></div></div></div>
                        <div class="p-4 bg-slate-900 border-t border-slate-800 flex justify-between items-center">
                            <div class="text-xs text-slate-500 flex items-center gap-1"><i data-lucide="shield-check" class="w-3 h-3 text-green-500"></i> Verified Prompt</div>
                            <button id="copy-lib-${prompt.id}" onclick="copyToClipboard(\`${safeContent}\`, 'copy-lib-${prompt.id}')" class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold bg-purple-600 hover:bg-purple-500 text-white transition-all shadow-lg shadow-purple-900/20 active:scale-95"><i data-lucide="copy" class="w-4 h-4"></i> Copy</button>
                        </div>
                    </div>`;
                });
                html += `</div></section>`;
            });
            feed.innerHTML = html;
        }

        // --- UTILITIES ---

        function downloadAsMarkdown() {
            let mdContent = "# Magical Prompts Library\n\nGenerated by PromptMagic\n\n---\n\n";
            libraryPrompts.forEach(p => {
                mdContent += `## ${p.title}\n**Category:** ${libraryCategories.find(c => c.id === p.categoryId).name}\n\n\`\`\`\n${p.content}\n\`\`\`\n\n---\n\n`;
            });
            const blob = new Blob([mdContent], { type: 'text/markdown' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = 'PromptMagic_Library.md';
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
        }

        function downloadAsPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            let y = 20;
            const pageHeight = doc.internal.pageSize.height;
            const margin = 20;
            
            doc.setFontSize(22); doc.text("PromptMagic Library", margin, y); y += 15;
            doc.setFontSize(10); doc.text("Complete Collection", margin, y); y += 20;

            libraryPrompts.forEach((p, index) => {
                if (y > pageHeight - 40) { doc.addPage(); y = 20; }
                doc.setFontSize(16); doc.setFont("helvetica", "bold"); doc.text(`${index + 1}. ${p.title}`, margin, y); y += 10;
                doc.setFontSize(10); doc.setFont("helvetica", "normal"); doc.setTextColor(100); doc.text(p.description, margin, y); doc.setTextColor(0); y += 10;
                const lines = doc.splitTextToSize(p.content, 170);
                lines.forEach(line => {
                    if (y > pageHeight - 20) { doc.addPage(); y = 20; }
                    doc.setFont("courier", "normal"); doc.setFontSize(9); doc.text(line, margin, y); y += 5;
                });
                y += 15;
            });
            doc.save("PromptMagic_Library.pdf");
        }

        function togglePrompt(id) {
            const contentDiv = document.getElementById(`prompt-content-${id}`);
            const fadeDiv = document.getElementById(`prompt-fade-${id}`);
            const btnText = document.getElementById(`prompt-btn-text-${id}`);
            const isExpanded = contentDiv.classList.contains('max-h-[600px]');
            if (isExpanded) {
                contentDiv.classList.remove('max-h-[600px]', 'overflow-y-auto', 'custom-scrollbar');
                contentDiv.classList.add('max-h-[140px]', 'overflow-hidden');
                fadeDiv.style.display = 'block';
                btnText.innerText = "Expand Prompt";
            } else {
                contentDiv.classList.remove('max-h-[140px]', 'overflow-hidden');
                contentDiv.classList.add('max-h-[600px]', 'overflow-y-auto', 'custom-scrollbar');
                fadeDiv.style.display = 'none';
                btnText.innerText = "Show Less";
            }
        }
        
        function toggleFAQ(id) {
            const content = document.getElementById(`faq-content-${id}`);
            const questionText = document.getElementById(`faq-question-${id}`);
            if (content.classList.contains('max-h-0')) {
                content.classList.remove('max-h-0', 'opacity-0'); content.classList.add('max-h-96', 'opacity-100', 'mb-6');
                document.getElementById(`faq-icon-wrapper-${id}`).classList.add('rotate-180');
                questionText.classList.replace('text-slate-200', 'text-purple-400');
                document.getElementById(`faq-icon-wrapper-${id}`).innerHTML = `<i data-lucide="minus" class="w-5 h-5 text-purple-400"></i>`;
            } else {
                content.classList.add('max-h-0', 'opacity-0'); content.classList.remove('max-h-96', 'opacity-100', 'mb-6');
                document.getElementById(`faq-icon-wrapper-${id}`).classList.remove('rotate-180');
                questionText.classList.replace('text-purple-400', 'text-slate-200');
                document.getElementById(`faq-icon-wrapper-${id}`).innerHTML = `<i data-lucide="plus" class="w-5 h-5 text-slate-400 group-hover:text-purple-400"></i>`;
            }
            lucide.createIcons();
        }

        function copyToClipboard(text, btnId) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => showCopiedState(btnId));
            } else {
                const textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.position = "fixed";
                textArea.style.left = "-9999px";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try { document.execCommand('copy'); showCopiedState(btnId); } catch (err) {}
                document.body.removeChild(textArea);
            }
        }

        function showCopiedState(btnId) {
            const btn = document.getElementById(btnId);
            const originalHtml = btn.innerHTML;
            const originalClasses = btn.className;
            btn.className = "flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold bg-green-500 text-white transition-all shadow-lg";
            btn.innerHTML = `<i data-lucide="check" class="w-4 h-4"></i> Copied!`;
            lucide.createIcons();
            setTimeout(() => { btn.className = originalClasses; btn.innerHTML = originalHtml; lucide.createIcons(); }, 2000);
        }

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDemoPrompts();
            renderLockedPreview();
            renderFAQs();
            lucide.createIcons();
        });
    </script>
</body>
</html>
